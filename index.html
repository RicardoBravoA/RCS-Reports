<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>RCS Reports</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
	
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/scripts.js"></script>
  <script type="text/javascript" src="cordova/database.js" ></script>
  <script type="text/javascript" src="cordova/functions.js" ></script>  

  <script  type="text/javascript">

    $(window).load(function(){
      onInit();
      var variable = obtenerVariables("variable");
      console.log("variable "+variable);
      /*
      if (window.XMLHttpRequest) {
        console.log("support xmlhttprequest");
        cor = new XMLHttpRequest();
      }else {
          console.log("Your browser does not support Cross-Origin request!");
      }
      */
      if(checkNetConnection()==true){
        if(variable==-1){
          existsData();
        }
      }else{
        alert("Conéctese a Internet");
      }
      
    });


    $(document).ready(function(){

      if(checkNetConnection()==true){

        $("#btn").click(function(){
          var ip_1 = $("#ip_1").val();
          var ip_2 = $("#ip_2").val();
          var ip_3 = $("#ip_3").val();
          var ip_4 = $("#ip_4").val();
          var port = $("#port").val();
          var alias = $("#aliastext").val();
          var site = $("#site").val();

          if(ip_1.length>0 && ip_2.length>0 && ip_3.length>0 && ip_4.length>0){
            if(port.length>0){
              if(alias.length>0){
                if(site.length>0){

                  var ip = ip_1+"."+ip_2+"."+ip_3+"."+ip_4;
                  var urlBase = "http://"+ip+":"+port+"/"+site;
                  console.log(urlBase);
                  validIP(ip, port, urlBase, alias, "1", site);

                }else{
                  alert("Ingrese Site");
                }
              }else{
                alert("Ingrese Alias");
              }
            }else{
              alert("Ingrese Puerto");
            }
          }else{
            alert("Ingrese IP");
          }

         });

      }else{
        alert("Conéctese a Internet");
      }

    });  

  </script>

  <script> 
    $.support.cors = true;
  </script>

</head>

<body>
<div class="container login">
    <div class="animation"></div>
	<div class="row vcenter1">
		<div class="col-md-4 col-md-offset-4 vcenter-login1">
            <div class="logo-company text-center animation"><img src="img/retail_logo.png"/></div>
            <div class="logo-name text-center animation-delay1"><img src="img/titulo.png"/></div>
			<form action="login.html" class="animation-delay2">
                <div class="form-group ip-address text-center">
					 <label>Ingrese la dirección IP del Servidor</label>
                </div>
				<div class="form-group ip-address text-center">
                     <input type="number" class="form-control" id="ip_1" name="ip_1" value="98">
                     <label class="point">.</label>
                     <input type="number" class="form-control" id="ip_2" name="ip_2" value ="224">
                     <label class="point">.</label>
                     <input type="number" class="form-control" id="ip_3" name="ip_3" value="19">
                     <label class="point">.</label>
                     <input type="number" class="form-control" id="ip_4" name="ip_4" value="148">
				</div>
				<div class="form-group">
                     <div class="input">
                         <label class="col-md-6 label-style">Puerto:</label>
                         <input type="number" class="col-md-6 form-control input-style" id="port" name="port" value="8081">
                     </div>                     
				</div>
                <div class="form-group">
                     <div class="input">
                         <label class="col-md-6 label-style">Alias:</label>
                         <input type="text" class="col-md-6 form-control input-style" id="aliastext" name="aliastext" value="SERVER GINO">
                     </div>                     
				</div>
                <div class="form-group">
                     <div class="input">
                         <label class="col-md-6 label-style">Sitio:</label>
                         <input type="text" class="col-md-6 form-control input-style" id="site" name="site" value="RMSWCFSERVICE">
                     </div>                     
				</div>
                <div class="form-group form-float">
                    <div class="button-float">
                        <input type="button" name="btn" id="btn" value="INGRESAR" class="btn btn-block btn-rcs"/>
                    </div>		
                </div>
			</form>
		</div>
	</div>
</div>

    <div class="modal fade" id="show_loading" >
        <div class="modal-dialog">
            <div class="modal-content">                
                <div class="modal-body">                    
                        <div class="shaft-load">
                          <div class="shaft1"></div>
                          <div class="shaft2"></div>
                          <div class="shaft3"></div>
                          <div class="shaft4"></div>
                          <div class="shaft5"></div>
                          <div class="shaft6"></div>
                          <div class="shaft7"></div>
                          <div class="shaft8"></div>
                          <div class="shaft9"></div>
                          <div class="shaft10"></div>
                        </div>                    
                    <div class="text-center"><p>Cargando</p></div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
